<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CV Builder Pro</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=DM+Sans:wght@300;400;500;600&family=Cormorant+Garamond:wght@400;600&family=Space+Mono&family=Bebas+Neue&family=Raleway:wght@300;400;600;700&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<style>
:root {
  --primary: #1a1a2e;
  --accent: #e94560;
  --gold: #f5a623;
  --light: #f8f9fa;
  --glass: rgba(255,255,255,0.08);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  font-family: 'DM Sans', sans-serif;
  background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
  min-height: 100vh;
  color: #fff;
}

/* HEADER */
.header {
  text-align: center;
  padding: 50px 20px 30px;
  position: relative;
}
.header::before {
  content: '';
  position: absolute;
  top: 0; left: 50%; transform: translateX(-50%);
  width: 300px; height: 300px;
  background: radial-gradient(circle, rgba(233,69,96,0.3) 0%, transparent 70%);
  pointer-events: none;
}
.header h1 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: clamp(3rem, 8vw, 6rem);
  letter-spacing: 8px;
  background: linear-gradient(135deg, #fff 0%, #e94560 50%, #f5a623 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.header p {
  color: rgba(255,255,255,0.6);
  font-size: 1.1rem;
  margin-top: 10px;
}
.note-bar {
  background: linear-gradient(90deg, #e94560, #f5a623);
  padding: 12px 20px;
  text-align: center;
  font-weight: 600;
  font-size: 0.95rem;
  letter-spacing: 1px;
}

/* FORM */
.form-section {
  max-width: 900px;
  margin: 40px auto;
  padding: 0 20px;
}
.form-card {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 24px;
  padding: 40px;
}
.form-card h2 {
  font-family: 'Playfair Display', serif;
  font-size: 2rem;
  margin-bottom: 30px;
  color: #f5a623;
}
.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
}
.form-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}
.form-group.full { grid-column: 1/-1; }
.form-group label {
  font-size: 0.85rem;
  font-weight: 600;
  color: rgba(255,255,255,0.7);
  text-transform: uppercase;
  letter-spacing: 1px;
}
.form-group input,
.form-group textarea,
.form-group select {
  background: rgba(255,255,255,0.08);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 12px;
  padding: 14px 18px;
  color: #fff;
  font-family: 'DM Sans', sans-serif;
  font-size: 1rem;
  transition: all 0.3s;
  outline: none;
}
.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  border-color: #e94560;
  background: rgba(233,69,96,0.1);
  box-shadow: 0 0 20px rgba(233,69,96,0.2);
}
.form-group textarea { resize: vertical; min-height: 100px; }
.form-group select option { background: #302b63; color: #fff; }

/* Photo Upload */
.photo-upload-area {
  border: 2px dashed rgba(245,166,35,0.5);
  border-radius: 16px;
  padding: 30px;
  text-align: center;
  cursor: pointer;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
}
.photo-upload-area:hover { border-color: #f5a623; background: rgba(245,166,35,0.05); }
.photo-upload-area input { position: absolute; inset: 0; opacity: 0; cursor: pointer; }
.photo-preview {
  width: 120px; height: 120px;
  border-radius: 50%;
  object-fit: cover;
  border: 3px solid #f5a623;
  display: none;
  margin: 0 auto 10px;
}
.upload-icon { font-size: 3rem; margin-bottom: 10px; }
.upload-text { color: rgba(255,255,255,0.6); font-size: 0.9rem; }

/* Section Titles */
.section-divider {
  grid-column: 1/-1;
  display: flex;
  align-items: center;
  gap: 15px;
  margin: 10px 0;
}
.section-divider span {
  font-family: 'Playfair Display', serif;
  font-size: 1.3rem;
  color: #e94560;
  white-space: nowrap;
}
.section-divider::before,
.section-divider::after {
  content: '';
  flex: 1;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(233,69,96,0.5), transparent);
}

/* Dynamic fields */
.dynamic-entry {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: 16px;
  padding: 20px;
  margin-bottom: 15px;
  position: relative;
}
.dynamic-entry .remove-btn {
  position: absolute;
  top: 15px; right: 15px;
  background: rgba(233,69,96,0.2);
  border: none;
  color: #e94560;
  width: 30px; height: 30px;
  border-radius: 50%;
  cursor: pointer;
  font-size: 1.1rem;
  display: flex;align-items:center;justify-content:center;
  transition: all 0.2s;
}
.dynamic-entry .remove-btn:hover { background: #e94560; color: #fff; }
.add-btn {
  background: transparent;
  border: 1px dashed rgba(245,166,35,0.5);
  color: #f5a623;
  padding: 12px 25px;
  border-radius: 12px;
  cursor: pointer;
  font-family: 'DM Sans', sans-serif;
  font-size: 0.95rem;
  transition: all 0.3s;
  width: 100%;
  margin-bottom: 10px;
}
.add-btn:hover { background: rgba(245,166,35,0.1); border-color: #f5a623; }

/* Generate Button */
.generate-btn {
  background: linear-gradient(135deg, #e94560, #f5a623);
  border: none;
  color: #fff;
  padding: 20px 60px;
  font-size: 1.2rem;
  font-weight: 700;
  font-family: 'Bebas Neue', sans-serif;
  letter-spacing: 3px;
  border-radius: 50px;
  cursor: pointer;
  display: block;
  margin: 40px auto 0;
  transition: all 0.3s;
  box-shadow: 0 10px 40px rgba(233,69,96,0.4);
}
.generate-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 20px 60px rgba(233,69,96,0.6);
}

/* TEMPLATES SECTION */
.templates-section {
  max-width: 1400px;
  margin: 60px auto;
  padding: 0 20px;
  display: none;
}
.templates-section h2 {
  font-family: 'Bebas Neue', sans-serif;
  font-size: 3rem;
  letter-spacing: 5px;
  text-align: center;
  margin-bottom: 10px;
  background: linear-gradient(135deg, #fff, #e94560);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
.templates-subtitle {
  text-align: center;
  color: rgba(255,255,255,0.5);
  margin-bottom: 40px;
}
.templates-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 25px;
}
.template-card {
  position: relative;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.3s;
  border: 2px solid transparent;
  box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
.template-card:hover { transform: translateY(-8px); border-color: #e94560; box-shadow: 0 20px 50px rgba(233,69,96,0.3); }
.template-card.selected { border-color: #f5a623; box-shadow: 0 0 30px rgba(245,166,35,0.5); }
.template-card .selected-badge {
  position: absolute;
  top: 10px; right: 10px;
  background: #f5a623;
  color: #000;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 700;
  display: none;
  z-index: 10;
}
.template-card.selected .selected-badge { display: block; }
.template-preview {
  width: 100%;
  height: 420px;
  overflow: hidden;
  position: relative;
}
.template-preview .cv-inner {
  transform: scale(0.52);
  transform-origin: top left;
  width: 192%;
  height: 192%;
  pointer-events: none;
}
.template-label {
  background: rgba(0,0,0,0.8);
  padding: 12px 15px;
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.template-label span { font-size: 0.85rem; color: rgba(255,255,255,0.7); }
.template-label strong { color: #f5a623; font-size: 0.9rem; }

/* Download Section */
.download-section {
  max-width: 600px;
  margin: 40px auto;
  padding: 0 20px;
  display: none;
  text-align: center;
}
.download-card {
  background: rgba(255,255,255,0.05);
  backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.1);
  border-radius: 24px;
  padding: 40px;
}
.download-card h3 {
  font-family: 'Playfair Display', serif;
  font-size: 1.8rem;
  margin-bottom: 25px;
  color: #f5a623;
}
.download-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 15px;
  justify-content: center;
}
.dl-btn {
  padding: 15px 30px;
  border-radius: 50px;
  border: none;
  font-family: 'DM Sans', sans-serif;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  gap: 8px;
}
.dl-btn:hover { transform: translateY(-3px); }
.dl-pdf { background: linear-gradient(135deg, #e94560, #c0392b); color: #fff; }
.dl-docx { background: linear-gradient(135deg, #2980b9, #1a5276); color: #fff; }
.dl-png { background: linear-gradient(135deg, #27ae60, #1e8449); color: #fff; }
.dl-jpg { background: linear-gradient(135deg, #f39c12, #d68910); color: #fff; }

/* FOOTER */
footer {
  text-align: center;
  padding: 40px 20px;
  border-top: 1px solid rgba(255,255,255,0.08);
  margin-top: 40px;
}
.footer-by {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  color: rgba(255,255,255,0.5);
  font-size: 0.9rem;
  cursor: pointer;
  transition: color 0.3s;
  position: relative;
}
.footer-by:hover { color: #f5a623; }
.footer-by strong { color: #e94560; }
.social-popup {
  position: absolute;
  bottom: 110%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(20,20,40,0.98);
  border: 1px solid rgba(255,255,255,0.15);
  border-radius: 16px;
  padding: 20px;
  display: none;
  min-width: 240px;
  box-shadow: 0 20px 60px rgba(0,0,0,0.5);
}
.social-popup.show { display: block; }
.social-popup a {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 15px;
  border-radius: 10px;
  color: #fff;
  text-decoration: none;
  margin-bottom: 8px;
  transition: all 0.2s;
  font-weight: 500;
}
.social-popup a:hover { background: rgba(255,255,255,0.1); }
.social-popup a:last-child { margin-bottom: 0; }
.wa-icon { background: #25D366; width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0; }
.fb-icon { background: #1877F2; width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0; }

/* Loading */
.loading-overlay {
  position: fixed;
  inset: 0;
  background: rgba(15,12,41,0.95);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  display: none;
}
.spinner {
  width: 60px; height: 60px;
  border: 3px solid rgba(233,69,96,0.3);
  border-top-color: #e94560;
  border-radius: 50%;
  animation: spin 1s linear infinite;
}
@keyframes spin { to { transform: rotate(360deg); } }
.loading-text { margin-top: 20px; color: rgba(255,255,255,0.7); font-size: 1rem; }

/* ===================== CV TEMPLATES ===================== */

/* Template base */
.cv-template {
  width: 794px;
  min-height: 1123px;
  font-family: 'DM Sans', sans-serif;
  position: relative;
  overflow: hidden;
  background: #fff;
  color: #333;
}

/* T1 - Modern Crimson */
.t1 { background: #fff; }
.t1 .cv-header { background: linear-gradient(135deg, #c0392b, #e74c3c); padding: 50px 40px; color: #fff; display: flex; align-items: center; gap: 30px; }
.t1 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.5); flex-shrink: 0; }
.t1 .cv-name { font-size: 2.5rem; font-weight: 700; }
.t1 .cv-title { opacity: 0.85; font-size: 1.1rem; margin-top: 5px; }
.t1 .cv-contact { display: flex; flex-wrap: wrap; gap: 10px; margin-top: 15px; font-size: 0.85rem; }
.t1 .cv-contact span { background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; }
.t1 .cv-body { display: grid; grid-template-columns: 1fr 2fr; gap: 0; }
.t1 .cv-sidebar { background: #2c3e50; color: #fff; padding: 30px 25px; }
.t1 .cv-main { padding: 30px; }
.t1 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #e74c3c; border-bottom: 2px solid #e74c3c; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t1 .cv-sidebar .sec-title { color: #e74c3c; border-color: #e74c3c; }
.t1 .skill-bar { height: 5px; background: rgba(255,255,255,0.2); border-radius: 3px; margin-bottom: 12px; overflow: hidden; }
.t1 .skill-bar div { height: 100%; background: #e74c3c; border-radius: 3px; }
.t1 .skill-name { font-size: 0.85rem; margin-bottom: 4px; }
.t1 .job-title { font-weight: 700; font-size: 1rem; }
.t1 .job-company { color: #c0392b; font-size: 0.9rem; }
.t1 .job-date { color: #999; font-size: 0.8rem; }
.t1 .job-desc { font-size: 0.85rem; color: #555; margin-top: 5px; line-height: 1.6; }
.t1 .entry { margin-bottom: 20px; }

/* T2 - Navy Executive */
.t2 { background: #fff; }
.t2 .cv-header { background: #1a2a4a; padding: 0; display: flex; }
.t2 .cv-header-left { background: #c9a227; padding: 40px 30px; width: 280px; flex-shrink: 0; display: flex; flex-direction: column; align-items: center; }
.t2 .cv-photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid #fff; margin-bottom: 15px; }
.t2 .cv-header-right { padding: 40px 30px; color: #fff; flex: 1; display: flex; flex-direction: column; justify-content: center; }
.t2 .cv-name { font-size: 2.2rem; font-weight: 700; }
.t2 .cv-title { color: #c9a227; font-size: 1.1rem; margin-top: 8px; }
.t2 .contact-item { display: flex; align-items: center; gap: 8px; color: rgba(255,255,255,0.8); font-size: 0.85rem; margin-top: 8px; }
.t2 .cv-body { display: grid; grid-template-columns: 280px 1fr; }
.t2 .cv-sidebar { background: #f0f4f8; padding: 30px; }
.t2 .cv-main { padding: 30px; }
.t2 .sec-title { color: #1a2a4a; font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 800; border-left: 4px solid #c9a227; padding-left: 10px; margin-bottom: 15px; }
.t2 .skill-tag { display: inline-block; background: #1a2a4a; color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t2 .entry { margin-bottom: 20px; }
.t2 .job-title { font-weight: 700; font-size: 1rem; color: #1a2a4a; }
.t2 .job-company { color: #c9a227; font-size: 0.9rem; font-weight: 600; }
.t2 .job-date { color: #999; font-size: 0.8rem; }
.t2 .job-desc { font-size: 0.85rem; color: #555; margin-top: 5px; line-height: 1.6; }

/* T3 - Minimal Black */
.t3 { background: #fff; font-family: 'Cormorant Garamond', serif; }
.t3 .cv-header { padding: 60px 60px 30px; border-bottom: 2px solid #000; display: flex; justify-content: space-between; align-items: flex-end; }
.t3 .cv-photo { width: 90px; height: 90px; border-radius: 50%; object-fit: cover; border: 2px solid #000; }
.t3 .cv-name { font-size: 3rem; font-weight: 700; letter-spacing: -1px; line-height: 1; }
.t3 .cv-title { font-size: 1.1rem; color: #666; margin-top: 8px; font-style: italic; }
.t3 .cv-contact { font-size: 0.85rem; color: #666; text-align: right; line-height: 1.8; }
.t3 .cv-body { padding: 30px 60px; display: grid; grid-template-columns: 2fr 1fr; gap: 40px; }
.t3 .sec-title { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 4px; font-family: 'DM Sans', sans-serif; font-weight: 700; color: #000; border-bottom: 1px solid #000; padding-bottom: 5px; margin-bottom: 15px; }
.t3 .job-title { font-weight: 700; font-size: 1.1rem; }
.t3 .job-company { color: #666; font-style: italic; }
.t3 .job-date { color: #999; font-size: 0.8rem; font-family: 'DM Sans', sans-serif; }
.t3 .job-desc { font-size: 0.9rem; color: #444; line-height: 1.7; margin-top: 5px; }
.t3 .entry { margin-bottom: 20px; }
.t3 .skill-item { font-size: 0.9rem; border-bottom: 1px solid #eee; padding: 6px 0; }

/* T4 - Creative Green */
.t4 { background: #0d4f3c; color: #fff; }
.t4 .cv-header { padding: 50px 40px; display: flex; gap: 30px; align-items: center; }
.t4 .cv-photo { width: 110px; height: 110px; border-radius: 12px; object-fit: cover; border: 3px solid #2ecc71; flex-shrink: 0; }
.t4 .cv-name { font-size: 2.5rem; font-weight: 700; font-family: 'Raleway', sans-serif; }
.t4 .cv-title { color: #2ecc71; font-size: 1rem; margin-top: 5px; }
.t4 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: rgba(255,255,255,0.7); }
.t4 .cv-contact span { margin-right: 15px; }
.t4 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t4 .cv-sidebar { background: #0a3d2d; padding: 30px 25px; }
.t4 .cv-main { padding: 30px; }
.t4 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #2ecc71; border-bottom: 1px solid #2ecc71; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t4 .skill-dot { display: flex; gap: 4px; margin-bottom: 10px; }
.t4 .skill-dot span { width: 10px; height: 10px; border-radius: 50%; background: rgba(255,255,255,0.2); }
.t4 .skill-dot span.active { background: #2ecc71; }
.t4 .skill-name { font-size: 0.85rem; margin-bottom: 5px; }
.t4 .job-title { font-weight: 700; font-size: 1rem; color: #2ecc71; }
.t4 .job-company { color: rgba(255,255,255,0.7); }
.t4 .job-date { color: rgba(255,255,255,0.4); font-size: 0.8rem; }
.t4 .job-desc { font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-top: 5px; line-height: 1.6; }
.t4 .entry { margin-bottom: 20px; }

/* T5 - Purple Gradient */
.t5 { background: #fff; }
.t5 .cv-header { background: linear-gradient(135deg, #6c3483, #a855f7); padding: 50px 40px; color: #fff; }
.t5 .cv-header-top { display: flex; align-items: center; gap: 25px; margin-bottom: 20px; }
.t5 .cv-photo { width: 100px; height: 100px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.5); }
.t5 .cv-name { font-size: 2.3rem; font-weight: 700; }
.t5 .cv-title { opacity: 0.85; margin-top: 5px; }
.t5 .cv-contact { display: flex; gap: 20px; font-size: 0.85rem; flex-wrap: wrap; }
.t5 .cv-contact span { opacity: 0.8; }
.t5 .cv-body { display: grid; grid-template-columns: 1fr 2fr; gap: 0; }
.t5 .cv-sidebar { background: #f5f0ff; padding: 30px 25px; }
.t5 .cv-main { padding: 30px; }
.t5 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #6c3483; border-bottom: 2px solid #6c3483; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t5 .skill-tag { display: inline-block; background: linear-gradient(135deg,#6c3483,#a855f7); color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t5 .job-title { font-weight: 700; font-size: 1rem; color: #6c3483; }
.t5 .job-company { color: #a855f7; font-size: 0.9rem; }
.t5 .job-date { color: #999; font-size: 0.8rem; }
.t5 .job-desc { font-size: 0.85rem; color: #555; margin-top: 5px; line-height: 1.6; }
.t5 .entry { margin-bottom: 20px; }

/* T6 - Orange Bold */
.t6 { background: #fff; font-family: 'Raleway', sans-serif; }
.t6 .cv-header { background: #ff6b35; padding: 50px 40px; color: #fff; display: flex; justify-content: space-between; align-items: center; }
.t6 .cv-photo { width: 100px; height: 100px; border-radius: 8px; object-fit: cover; border: 3px solid rgba(255,255,255,0.7); }
.t6 .cv-name { font-size: 2.5rem; font-weight: 700; }
.t6 .cv-title { opacity: 0.9; margin-top: 5px; font-size: 1.1rem; }
.t6 .cv-contact { margin-top: 15px; font-size: 0.85rem; opacity: 0.85; line-height: 1.8; }
.t6 .cv-body { padding: 40px; }
.t6 .sec-title { font-size: 0.8rem; text-transform: uppercase; letter-spacing: 3px; color: #ff6b35; font-weight: 800; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
.t6 .sec-title::after { content: ''; flex: 1; height: 2px; background: #ff6b35; }
.t6 .entry { margin-bottom: 20px; }
.t6 .job-title { font-weight: 700; font-size: 1rem; }
.t6 .job-company { color: #ff6b35; }
.t6 .job-date { color: #999; font-size: 0.8rem; }
.t6 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }
.t6 .skills-flex { display: flex; flex-wrap: wrap; gap: 8px; }
.t6 .skill-tag { background: #fff3ee; border: 1px solid #ff6b35; color: #ff6b35; padding: 4px 14px; border-radius: 20px; font-size: 0.8rem; }
.t6 .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }

/* T7 - Teal Split */
.t7 { background: #fff; }
.t7 .cv-header { background: #00695c; color: #fff; display: flex; }
.t7 .cv-photo-col { width: 220px; flex-shrink: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; background: #004d40; }
.t7 .cv-photo { width: 130px; height: 130px; border-radius: 50%; object-fit: cover; border: 4px solid #80cbc4; }
.t7 .cv-info-col { padding: 40px; flex: 1; }
.t7 .cv-name { font-size: 2.2rem; font-weight: 700; }
.t7 .cv-title { color: #80cbc4; margin-top: 5px; font-size: 1rem; }
.t7 .cv-contact { margin-top: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 0.85rem; }
.t7 .cv-contact span { opacity: 0.8; }
.t7 .cv-body { display: grid; grid-template-columns: 220px 1fr; }
.t7 .cv-sidebar { background: #e0f2f1; padding: 30px 20px; }
.t7 .cv-main { padding: 30px; }
.t7 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #00695c; border-bottom: 2px solid #00695c; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t7 .skill-bar { height: 6px; background: #b2dfdb; border-radius: 3px; margin-bottom: 12px; }
.t7 .skill-bar div { height: 100%; background: #00695c; border-radius: 3px; }
.t7 .entry { margin-bottom: 20px; }
.t7 .job-title { font-weight: 700; color: #00695c; }
.t7 .job-company { color: #666; font-size: 0.9rem; }
.t7 .job-date { color: #999; font-size: 0.8rem; }
.t7 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T8 - Dark Professional */
.t8 { background: #1e1e2e; color: #cdd6f4; font-family: 'Space Mono', monospace; }
.t8 .cv-header { padding: 40px; border-bottom: 1px solid #313244; display: flex; gap: 25px; align-items: center; }
.t8 .cv-photo { width: 100px; height: 100px; border-radius: 8px; object-fit: cover; border: 2px solid #cba6f7; }
.t8 .cv-name { font-size: 2rem; color: #cba6f7; }
.t8 .cv-title { color: #a6e3a1; margin-top: 5px; font-size: 0.9rem; }
.t8 .cv-contact { margin-top: 10px; font-size: 0.75rem; color: #6c7086; line-height: 1.8; }
.t8 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t8 .cv-sidebar { background: #181825; padding: 30px 20px; }
.t8 .cv-main { padding: 30px; }
.t8 .sec-title { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 2px; color: #cba6f7; border-bottom: 1px solid #313244; padding-bottom: 5px; margin-bottom: 15px; }
.t8 .skill-name { color: #a6e3a1; font-size: 0.8rem; margin-bottom: 8px; }
.t8 .skill-bar { height: 4px; background: #313244; border-radius: 2px; margin-bottom: 14px; }
.t8 .skill-bar div { height: 100%; background: linear-gradient(90deg, #cba6f7, #a6e3a1); border-radius: 2px; }
.t8 .entry { margin-bottom: 20px; border-left: 2px solid #313244; padding-left: 15px; }
.t8 .job-title { color: #cba6f7; font-size: 0.9rem; }
.t8 .job-company { color: #a6e3a1; font-size: 0.8rem; }
.t8 .job-date { color: #6c7086; font-size: 0.75rem; }
.t8 .job-desc { font-size: 0.78rem; color: #6c7086; line-height: 1.6; margin-top: 5px; }

/* T9 - Pink Modern */
.t9 { background: #fff; }
.t9 .cv-header { background: linear-gradient(135deg, #e91e8c, #ff6b9d); padding: 50px 40px; color: #fff; display: flex; align-items: center; gap: 25px; }
.t9 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.6); flex-shrink: 0; }
.t9 .cv-name { font-size: 2.3rem; font-weight: 700; font-family: 'Raleway', sans-serif; }
.t9 .cv-title { opacity: 0.9; margin-top: 5px; }
.t9 .cv-contact { margin-top: 15px; font-size: 0.85rem; opacity: 0.85; }
.t9 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t9 .cv-sidebar { background: #fff0f7; padding: 30px 25px; }
.t9 .cv-main { padding: 30px; }
.t9 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #e91e8c; border-bottom: 2px solid #e91e8c; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t9 .skill-tag { display: inline-block; background: #e91e8c; color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t9 .entry { margin-bottom: 20px; }
.t9 .job-title { font-weight: 700; font-size: 1rem; color: #e91e8c; }
.t9 .job-company { color: #666; }
.t9 .job-date { color: #999; font-size: 0.8rem; }
.t9 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T10 - Blue Classic */
.t10 { background: #fff; }
.t10 .cv-header { background: #1565c0; color: #fff; padding: 0; display: grid; grid-template-columns: 200px 1fr; }
.t10 .cv-photo-col { background: #0d47a1; display: flex; align-items: center; justify-content: center; padding: 30px; }
.t10 .cv-photo { width: 130px; height: 130px; border-radius: 50%; object-fit: cover; border: 4px solid #90caf9; }
.t10 .cv-info { padding: 30px; }
.t10 .cv-name { font-size: 2.2rem; font-weight: 700; }
.t10 .cv-title { color: #90caf9; margin-top: 5px; }
.t10 .cv-contact { margin-top: 15px; font-size: 0.85rem; opacity: 0.85; line-height: 1.8; }
.t10 .cv-body { display: grid; grid-template-columns: 200px 1fr; }
.t10 .cv-sidebar { background: #e3f2fd; padding: 30px 20px; }
.t10 .cv-main { padding: 30px; }
.t10 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #1565c0; border-left: 4px solid #1565c0; padding-left: 10px; margin-bottom: 15px; font-weight: 700; }
.t10 .skill-item { background: #1565c0; color: #fff; padding: 5px 14px; border-radius: 20px; font-size: 0.8rem; display: inline-block; margin: 3px; }
.t10 .entry { margin-bottom: 20px; }
.t10 .job-title { font-weight: 700; color: #1565c0; }
.t10 .job-company { color: #666; }
.t10 .job-date { color: #999; font-size: 0.8rem; }
.t10 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T11 - Yellow Creative */
.t11 { background: #fff; }
.t11 .cv-header { background: #f9a825; padding: 40px; display: flex; justify-content: space-between; align-items: center; }
.t11 .cv-photo { width: 100px; height: 100px; border-radius: 12px; object-fit: cover; box-shadow: 0 8px 25px rgba(0,0,0,0.2); }
.t11 .cv-name { font-size: 2.3rem; font-weight: 800; color: #1a1a1a; font-family: 'Bebas Neue', sans-serif; letter-spacing: 3px; }
.t11 .cv-title { color: #5d4037; font-size: 1rem; margin-top: 5px; }
.t11 .cv-contact { font-size: 0.85rem; color: #5d4037; line-height: 1.8; }
.t11 .cv-body { padding: 40px; }
.t11 .sec-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.2rem; letter-spacing: 3px; color: #f9a825; border-bottom: 3px solid #f9a825; padding-bottom: 5px; margin-bottom: 15px; }
.t11 .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
.t11 .skill-tag { border: 2px solid #f9a825; color: #f9a825; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; display: inline-block; margin: 3px; }
.t11 .entry { margin-bottom: 20px; }
.t11 .job-title { font-weight: 700; }
.t11 .job-company { color: #f9a825; font-weight: 600; }
.t11 .job-date { color: #999; font-size: 0.8rem; }
.t11 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T12 - Slate Clean */
.t12 { background: #eceff1; }
.t12 .cv-header { background: #37474f; color: #fff; padding: 50px 40px; display: flex; gap: 30px; align-items: center; }
.t12 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid #78909c; }
.t12 .cv-name { font-size: 2.2rem; font-weight: 700; }
.t12 .cv-title { color: #b0bec5; margin-top: 5px; }
.t12 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: #b0bec5; line-height: 1.8; }
.t12 .cv-body { display: grid; grid-template-columns: 1fr 2fr; gap: 0; }
.t12 .cv-sidebar { background: #cfd8dc; padding: 30px 25px; }
.t12 .cv-main { background: #fff; padding: 30px; }
.t12 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #37474f; border-bottom: 2px solid #37474f; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t12 .skill-bar { height: 5px; background: #90a4ae; border-radius: 3px; margin-bottom: 12px; }
.t12 .skill-bar div { height: 100%; background: #37474f; border-radius: 3px; }
.t12 .entry { margin-bottom: 20px; }
.t12 .job-title { font-weight: 700; color: #37474f; }
.t12 .job-company { color: #546e7a; }
.t12 .job-date { color: #90a4ae; font-size: 0.8rem; }
.t12 .job-desc { font-size: 0.85rem; color: #546e7a; line-height: 1.6; margin-top: 5px; }

/* T13 - Indigo Modern */
.t13 { background: #fff; }
.t13 .cv-header { background: linear-gradient(135deg, #3730a3, #6366f1); padding: 50px 40px; color: #fff; }
.t13 .cv-header-top { display: flex; gap: 25px; align-items: center; }
.t13 .cv-photo { width: 100px; height: 100px; border-radius: 16px; object-fit: cover; border: 3px solid rgba(255,255,255,0.5); }
.t13 .cv-name { font-size: 2.3rem; font-weight: 700; font-family: 'Raleway', sans-serif; }
.t13 .cv-title { opacity: 0.85; margin-top: 5px; }
.t13 .cv-contact { margin-top: 20px; display: flex; gap: 20px; font-size: 0.85rem; flex-wrap: wrap; }
.t13 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t13 .cv-sidebar { background: #eef2ff; padding: 30px 25px; }
.t13 .cv-main { padding: 30px; }
.t13 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #3730a3; border-bottom: 2px solid #6366f1; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t13 .skill-tag { display: inline-block; background: linear-gradient(135deg,#3730a3,#6366f1); color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t13 .entry { margin-bottom: 20px; }
.t13 .job-title { font-weight: 700; color: #3730a3; }
.t13 .job-company { color: #6366f1; }
.t13 .job-date { color: #999; font-size: 0.8rem; }
.t13 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T14 - Brown Earth */
.t14 { background: #fff; }
.t14 .cv-header { background: #4e342e; color: #fff; padding: 50px 40px; display: flex; gap: 25px; align-items: center; }
.t14 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid #a1887f; }
.t14 .cv-name { font-size: 2.2rem; font-weight: 700; font-family: 'Playfair Display', serif; }
.t14 .cv-title { color: #d7ccc8; margin-top: 5px; }
.t14 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: #bcaaa4; line-height: 1.8; }
.t14 .cv-body { display: grid; grid-template-columns: 250px 1fr; }
.t14 .cv-sidebar { background: #efebe9; padding: 30px; }
.t14 .cv-main { padding: 30px; }
.t14 .sec-title { font-family: 'Playfair Display', serif; font-size: 1rem; color: #4e342e; border-bottom: 1px solid #a1887f; padding-bottom: 5px; margin-bottom: 15px; }
.t14 .skill-item { border-left: 3px solid #4e342e; padding-left: 10px; margin-bottom: 10px; font-size: 0.85rem; }
.t14 .entry { margin-bottom: 20px; }
.t14 .job-title { font-weight: 700; color: #4e342e; }
.t14 .job-company { color: #795548; }
.t14 .job-date { color: #999; font-size: 0.8rem; }
.t14 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T15 - Cyan Fresh */
.t15 { background: #fff; }
.t15 .cv-header { background: linear-gradient(135deg, #006064, #00bcd4); color: #fff; padding: 50px 40px; display: flex; gap: 25px; align-items: center; }
.t15 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.5); }
.t15 .cv-name { font-size: 2.3rem; font-weight: 700; }
.t15 .cv-title { opacity: 0.9; margin-top: 5px; }
.t15 .cv-contact { margin-top: 15px; font-size: 0.85rem; opacity: 0.85; }
.t15 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t15 .cv-sidebar { background: #e0f7fa; padding: 30px 25px; }
.t15 .cv-main { padding: 30px; }
.t15 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #006064; border-bottom: 2px solid #006064; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t15 .skill-tag { display: inline-block; background: #006064; color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t15 .entry { margin-bottom: 20px; }
.t15 .job-title { font-weight: 700; color: #006064; }
.t15 .job-company { color: #00838f; }
.t15 .job-date { color: #999; font-size: 0.8rem; }
.t15 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T16 - Red White Minimal */
.t16 { background: #fff; font-family: 'Raleway', sans-serif; }
.t16 .cv-header { display: flex; align-items: stretch; height: 200px; }
.t16 .cv-red-col { background: #d32f2f; width: 220px; flex-shrink: 0; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 10px; }
.t16 .cv-photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid rgba(255,255,255,0.7); }
.t16 .cv-info { padding: 30px 40px; flex: 1; display: flex; flex-direction: column; justify-content: center; }
.t16 .cv-name { font-size: 2.2rem; font-weight: 800; color: #1a1a1a; }
.t16 .cv-title { color: #d32f2f; margin-top: 5px; font-weight: 600; }
.t16 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: #666; line-height: 1.8; }
.t16 .cv-body { display: grid; grid-template-columns: 220px 1fr; }
.t16 .cv-sidebar { background: #ffebee; padding: 30px 20px; }
.t16 .cv-main { padding: 30px; }
.t16 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #d32f2f; border-bottom: 2px solid #d32f2f; padding-bottom: 5px; margin-bottom: 15px; font-weight: 800; }
.t16 .skill-bar { height: 5px; background: #ffcdd2; border-radius: 3px; margin-bottom: 12px; }
.t16 .skill-bar div { height: 100%; background: #d32f2f; border-radius: 3px; }
.t16 .entry { margin-bottom: 20px; }
.t16 .job-title { font-weight: 700; color: #1a1a1a; }
.t16 .job-company { color: #d32f2f; font-weight: 600; }
.t16 .job-date { color: #999; font-size: 0.8rem; }
.t16 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T17 - Galaxy Dark */
.t17 { background: linear-gradient(135deg, #0f0c29, #302b63); color: #fff; }
.t17 .cv-header { padding: 50px 40px; display: flex; gap: 30px; align-items: center; border-bottom: 1px solid rgba(255,255,255,0.1); }
.t17 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 3px solid #a78bfa; }
.t17 .cv-name { font-size: 2.5rem; font-weight: 700; background: linear-gradient(135deg,#fff,#a78bfa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
.t17 .cv-title { color: #a78bfa; margin-top: 5px; }
.t17 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: rgba(255,255,255,0.5); }
.t17 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t17 .cv-sidebar { background: rgba(255,255,255,0.05); padding: 30px 25px; }
.t17 .cv-main { padding: 30px; }
.t17 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #a78bfa; border-bottom: 1px solid rgba(167,139,250,0.3); padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t17 .skill-bar { height: 4px; background: rgba(255,255,255,0.1); border-radius: 2px; margin-bottom: 12px; }
.t17 .skill-bar div { height: 100%; background: linear-gradient(90deg,#a78bfa,#60a5fa); border-radius: 2px; }
.t17 .skill-name { font-size: 0.85rem; color: rgba(255,255,255,0.7); margin-bottom: 4px; }
.t17 .entry { margin-bottom: 20px; border-left: 2px solid rgba(167,139,250,0.3); padding-left: 15px; }
.t17 .job-title { font-weight: 700; color: #a78bfa; }
.t17 .job-company { color: rgba(255,255,255,0.6); }
.t17 .job-date { color: rgba(255,255,255,0.3); font-size: 0.8rem; }
.t17 .job-desc { font-size: 0.85rem; color: rgba(255,255,255,0.5); line-height: 1.6; margin-top: 5px; }

/* T18 - Lime Accent */
.t18 { background: #fff; }
.t18 .cv-header { background: #1a1a1a; padding: 50px 40px; color: #fff; display: flex; gap: 25px; align-items: center; }
.t18 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 4px solid #a3e635; }
.t18 .cv-name { font-size: 2.3rem; font-weight: 700; font-family: 'Bebas Neue', sans-serif; letter-spacing: 3px; }
.t18 .cv-title { color: #a3e635; margin-top: 5px; letter-spacing: 1px; }
.t18 .cv-contact { margin-top: 15px; font-size: 0.85rem; color: rgba(255,255,255,0.6); }
.t18 .cv-body { display: grid; grid-template-columns: 1fr 2fr; }
.t18 .cv-sidebar { background: #f5f5f5; padding: 30px 25px; }
.t18 .cv-main { padding: 30px; }
.t18 .sec-title { font-family: 'Bebas Neue', sans-serif; font-size: 1.1rem; letter-spacing: 3px; color: #1a1a1a; border-bottom: 3px solid #a3e635; padding-bottom: 5px; margin-bottom: 15px; }
.t18 .skill-tag { background: #a3e635; color: #1a1a1a; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; display: inline-block; margin: 3px; font-weight: 600; }
.t18 .entry { margin-bottom: 20px; }
.t18 .job-title { font-weight: 700; color: #1a1a1a; }
.t18 .job-company { color: #84cc16; font-weight: 600; }
.t18 .job-date { color: #999; font-size: 0.8rem; }
.t18 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* T19 - Peach Soft */
.t19 { background: #fff8f5; font-family: 'Cormorant Garamond', serif; }
.t19 .cv-header { padding: 50px 40px; display: flex; gap: 30px; align-items: center; background: #ffece3; border-bottom: 2px solid #f97316; }
.t19 .cv-photo { width: 110px; height: 110px; border-radius: 50%; object-fit: cover; border: 3px solid #f97316; }
.t19 .cv-name { font-size: 2.5rem; font-weight: 700; color: #1a1a1a; }
.t19 .cv-title { color: #f97316; margin-top: 5px; font-size: 1.1rem; font-style: italic; }
.t19 .cv-contact { margin-top: 15px; font-size: 0.9rem; color: #888; line-height: 1.8; font-family: 'DM Sans', sans-serif; }
.t19 .cv-body { padding: 40px; }
.t19 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 3px; color: #f97316; font-family: 'DM Sans', sans-serif; font-weight: 700; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
.t19 .sec-title::after { content: ''; flex: 1; height: 1px; background: #f97316; }
.t19 .entry { margin-bottom: 20px; }
.t19 .job-title { font-weight: 700; font-size: 1.1rem; }
.t19 .job-company { color: #f97316; font-style: italic; }
.t19 .job-date { color: #bbb; font-size: 0.85rem; font-family: 'DM Sans', sans-serif; }
.t19 .job-desc { font-size: 0.9rem; color: #555; line-height: 1.7; margin-top: 5px; }
.t19 .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
.t19 .skill-item { border-bottom: 1px solid #ffd4b8; padding: 6px 0; font-size: 0.9rem; }

/* T20 - Steel Blue */
.t20 { background: #fff; }
.t20 .cv-header { background: #1976d2; padding: 0; display: grid; grid-template-columns: 230px 1fr; }
.t20 .cv-photo-col { background: #1565c0; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 40px 20px; gap: 15px; }
.t20 .cv-photo { width: 120px; height: 120px; border-radius: 50%; object-fit: cover; border: 4px solid #90caf9; }
.t20 .cv-name-small { font-size: 0.8rem; color: #90caf9; text-align: center; font-weight: 600; letter-spacing: 1px; }
.t20 .cv-info { padding: 40px; color: #fff; }
.t20 .cv-name { font-size: 2.2rem; font-weight: 700; }
.t20 .cv-title { color: #90caf9; margin-top: 5px; }
.t20 .cv-contact { margin-top: 15px; font-size: 0.85rem; opacity: 0.8; line-height: 1.8; }
.t20 .cv-body { display: grid; grid-template-columns: 230px 1fr; }
.t20 .cv-sidebar { background: #bbdefb; padding: 30px 20px; }
.t20 .cv-main { padding: 30px; }
.t20 .sec-title { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 2px; color: #1565c0; border-bottom: 2px solid #1976d2; padding-bottom: 5px; margin-bottom: 15px; font-weight: 700; }
.t20 .skill-item { display: inline-block; background: #1976d2; color: #fff; padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin: 3px; }
.t20 .entry { margin-bottom: 20px; }
.t20 .job-title { font-weight: 700; color: #1565c0; }
.t20 .job-company { color: #1976d2; }
.t20 .job-date { color: #999; font-size: 0.8rem; }
.t20 .job-desc { font-size: 0.85rem; color: #555; line-height: 1.6; margin-top: 5px; }

/* Utility */
.mt10 { margin-top: 10px; }
.mb15 { margin-bottom: 15px; }
.skill-name { font-size: 0.85rem; margin-bottom: 5px; }

/* No Photo placeholder */
.cv-photo-placeholder {
  background: rgba(255,255,255,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2.5rem;
  border-radius: 50%;
}

@media (max-width: 768px) {
  .form-grid { grid-template-columns: 1fr; }
  .form-group.full { grid-column: auto; }
  .templates-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="loading-overlay" id="loadingOverlay">
  <div class="spinner"></div>
  <p class="loading-text" id="loadingText">Generating your CV templates...</p>
</div>

<div class="note-bar">‚ö° Don't miss any box if you want good results ‚Äî fill all fields for the best CV!</div>

<div class="header">
  <h1>CV BUILDER PRO</h1>
  <p>Fill your details ‚Ä¢ Choose from 20 unique designs ‚Ä¢ Download in any format</p>
</div>

<!-- FORM -->
<div class="form-section">
  <div class="form-card">
    <h2>üìã Personal Information</h2>
    <div class="form-grid">
      <!-- Photo -->
      <div class="form-group full">
        <label>Profile Photo</label>
        <div class="photo-upload-area" id="photoUploadArea">
          <input type="file" id="photoInput" accept="image/*" onchange="handlePhoto(this)">
          <img class="photo-preview" id="photoPreview" src="" alt="Preview">
          <div id="uploadPlaceholder">
            <div class="upload-icon">üì∑</div>
            <div class="upload-text">Click to upload your photo (optional)</div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label>Full Name *</label>
        <input type="text" id="fullName" placeholder="Muhammad Ahmed Khan">
      </div>
      <div class="form-group">
        <label>Professional Title</label>
        <input type="text" id="jobTitle" placeholder="Software Engineer">
      </div>
      <div class="form-group">
        <label>Email</label>
        <input type="email" id="email" placeholder="ahmed@email.com">
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="text" id="phone" placeholder="+92 300 1234567">
      </div>
      <div class="form-group">
        <label>City / Location</label>
        <input type="text" id="location" placeholder="Karachi, Pakistan">
      </div>
      <div class="form-group">
        <label>LinkedIn / Website</label>
        <input type="text" id="linkedin" placeholder="linkedin.com/in/ahmed">
      </div>
      <div class="form-group full">
        <label>Professional Summary</label>
        <textarea id="summary" placeholder="Brief 2-3 line introduction about yourself and your expertise..."></textarea>
      </div>

      <div class="section-divider"><span>üíº Work Experience</span></div>

      <div class="form-group full" id="expContainer">
        <div class="dynamic-entry">
          <button class="remove-btn" onclick="removeEntry(this)">√ó</button>
          <div class="form-grid">
            <div class="form-group"><label>Job Title</label><input type="text" class="exp-title" placeholder="Senior Developer"></div>
            <div class="form-group"><label>Company</label><input type="text" class="exp-company" placeholder="ABC Tech Ltd"></div>
            <div class="form-group"><label>Start Date</label><input type="text" class="exp-start" placeholder="Jan 2022"></div>
            <div class="form-group"><label>End Date</label><input type="text" class="exp-end" placeholder="Present"></div>
            <div class="form-group full"><label>Description</label><textarea class="exp-desc" placeholder="Key achievements and responsibilities..."></textarea></div>
          </div>
        </div>
      </div>
      <div class="form-group full">
        <button class="add-btn" onclick="addExperience()">+ Add More Experience</button>
      </div>

      <div class="section-divider"><span>üéì Education</span></div>

      <div class="form-group full" id="eduContainer">
        <div class="dynamic-entry">
          <button class="remove-btn" onclick="removeEntry(this)">√ó</button>
          <div class="form-grid">
            <div class="form-group"><label>Degree</label><input type="text" class="edu-degree" placeholder="Bachelor of Computer Science"></div>
            <div class="form-group"><label>Institution</label><input type="text" class="edu-inst" placeholder="University of Karachi"></div>
            <div class="form-group"><label>Year</label><input type="text" class="edu-year" placeholder="2018 - 2022"></div>
            <div class="form-group"><label>GPA / Grade (optional)</label><input type="text" class="edu-gpa" placeholder="3.8 / 4.0"></div>
          </div>
        </div>
      </div>
      <div class="form-group full">
        <button class="add-btn" onclick="addEducation()">+ Add More Education</button>
      </div>

      <div class="section-divider"><span>üõ†Ô∏è Skills</span></div>

      <div class="form-group full">
        <label>Skills (comma separated)</label>
        <textarea id="skills" placeholder="JavaScript, Python, React, Node.js, SQL, Git, Teamwork, Leadership..."></textarea>
      </div>

      <div class="section-divider"><span>üèÜ Certifications</span></div>

      <div class="form-group full" id="certContainer">
        <div class="dynamic-entry">
          <button class="remove-btn" onclick="removeEntry(this)">√ó</button>
          <div class="form-grid">
            <div class="form-group"><label>Certificate Name</label><input type="text" class="cert-name" placeholder="AWS Certified Developer"></div>
            <div class="form-group"><label>Issuer & Year</label><input type="text" class="cert-issuer" placeholder="Amazon, 2023"></div>
          </div>
        </div>
      </div>
      <div class="form-group full">
        <button class="add-btn" onclick="addCert()">+ Add More Certifications</button>
      </div>

      <div class="section-divider"><span>üåê Languages</span></div>
      <div class="form-group full">
        <label>Languages (comma separated)</label>
        <input type="text" id="languages" placeholder="Urdu (Native), English (Fluent), Arabic (Basic)">
      </div>

      <div class="section-divider"><span>üìÅ Projects (Optional)</span></div>
      <div class="form-group full" id="projContainer">
        <div class="dynamic-entry">
          <button class="remove-btn" onclick="removeEntry(this)">√ó</button>
          <div class="form-grid">
            <div class="form-group"><label>Project Name</label><input type="text" class="proj-name" placeholder="E-Commerce Platform"></div>
            <div class="form-group"><label>Technologies</label><input type="text" class="proj-tech" placeholder="React, Node.js, MongoDB"></div>
            <div class="form-group full"><label>Description</label><textarea class="proj-desc" placeholder="Brief description of the project..."></textarea></div>
          </div>
        </div>
      </div>
      <div class="form-group full">
        <button class="add-btn" onclick="addProject()">+ Add More Projects</button>
      </div>

    </div>

    <button class="generate-btn" onclick="generateCV()">‚ú® GENERATE MY CV TEMPLATES</button>
  </div>
</div>

<!-- TEMPLATES SECTION -->
<div class="templates-section" id="templatesSection">
  <h2>CHOOSE YOUR TEMPLATE</h2>
  <p class="templates-subtitle">Select any design you love, then download it in your preferred format</p>
  <div class="templates-grid" id="templatesGrid"></div>
</div>

<!-- DOWNLOAD SECTION -->
<div class="download-section" id="downloadSection">
  <div class="download-card">
    <h3>üì• Download Your CV</h3>
    <p style="color:rgba(255,255,255,0.5);margin-bottom:20px;">Template selected! Choose your file format:</p>
    <div class="download-buttons">
      <button class="dl-btn dl-pdf" onclick="downloadAs('pdf')">üìÑ PDF</button>
      <button class="dl-btn dl-docx" onclick="downloadAs('docx')">üìù DOCX</button>
      <button class="dl-btn dl-png" onclick="downloadAs('png')">üñºÔ∏è PNG</button>
      <button class="dl-btn dl-jpg" onclick="downloadAs('jpg')">üì∏ JPG</button>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer>
  <div class="footer-by" onclick="toggleSocial()">
    Made with ‚ù§Ô∏è by <strong>Sami Bajwa</strong> ‚Äî Click to connect
    <div class="social-popup" id="socialPopup">
      <a href="https://whatsapp.com/channel/0029VbCNzQeISTkQR04DvX3r" target="_blank">
        <div class="wa-icon">üí¨</div>
        WhatsApp Channel
      </a>
      <a href="https://www.facebook.com/share/1C25p5RR1q/" target="_blank">
        <div class="fb-icon">üë§</div>
        Facebook Profile
      </a>
    </div>
  </div>
</footer>

<!-- Hidden render area -->
<div id="cvRenderArea" style="position:fixed;left:-9999px;top:0;z-index:-1;"></div>

<script>
let cvData = {};
let selectedTemplate = 1;
let photoDataURL = '';

function handlePhoto(input) {
  const file = input.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = e => {
    photoDataURL = e.target.result;
    document.getElementById('photoPreview').src = photoDataURL;
    document.getElementById('photoPreview').style.display = 'block';
    document.getElementById('uploadPlaceholder').style.display = 'none';
  };
  reader.readAsDataURL(file);
}

function removeEntry(btn) {
  const entry = btn.closest('.dynamic-entry');
  const container = entry.parentElement;
  if (container.querySelectorAll('.dynamic-entry').length > 1) {
    entry.remove();
  }
}

function addExperience() {
  const c = document.getElementById('expContainer');
  const div = document.createElement('div');
  div.className = 'dynamic-entry';
  div.innerHTML = `<button class="remove-btn" onclick="removeEntry(this)">√ó</button>
    <div class="form-grid">
      <div class="form-group"><label>Job Title</label><input type="text" class="exp-title" placeholder="Developer"></div>
      <div class="form-group"><label>Company</label><input type="text" class="exp-company" placeholder="Company Name"></div>
      <div class="form-group"><label>Start Date</label><input type="text" class="exp-start" placeholder="Jan 2020"></div>
      <div class="form-group"><label>End Date</label><input type="text" class="exp-end" placeholder="Dec 2021"></div>
      <div class="form-group full"><label>Description</label><textarea class="exp-desc" placeholder="Your achievements..."></textarea></div>
    </div>`;
  c.appendChild(div);
}

function addEducation() {
  const c = document.getElementById('eduContainer');
  const div = document.createElement('div');
  div.className = 'dynamic-entry';
  div.innerHTML = `<button class="remove-btn" onclick="removeEntry(this)">√ó</button>
    <div class="form-grid">
      <div class="form-group"><label>Degree</label><input type="text" class="edu-degree" placeholder="Degree Name"></div>
      <div class="form-group"><label>Institution</label><input type="text" class="edu-inst" placeholder="Institution"></div>
      <div class="form-group"><label>Year</label><input type="text" class="edu-year" placeholder="2015-2019"></div>
      <div class="form-group"><label>GPA</label><input type="text" class="edu-gpa" placeholder="Optional"></div>
    </div>`;
  c.appendChild(div);
}

function addCert() {
  const c = document.getElementById('certContainer');
  const div = document.createElement('div');
  div.className = 'dynamic-entry';
  div.innerHTML = `<button class="remove-btn" onclick="removeEntry(this)">√ó</button>
    <div class="form-grid">
      <div class="form-group"><label>Certificate Name</label><input type="text" class="cert-name" placeholder="Certificate"></div>
      <div class="form-group"><label>Issuer & Year</label><input type="text" class="cert-issuer" placeholder="Organization, Year"></div>
    </div>`;
  c.appendChild(div);
}

function addProject() {
  const c = document.getElementById('projContainer');
  const div = document.createElement('div');
  div.className = 'dynamic-entry';
  div.innerHTML = `<button class="remove-btn" onclick="removeEntry(this)">√ó</button>
    <div class="form-grid">
      <div class="form-group"><label>Project Name</label><input type="text" class="proj-name" placeholder="Project Name"></div>
      <div class="form-group"><label>Technologies</label><input type="text" class="proj-tech" placeholder="Tech Stack"></div>
      <div class="form-group full"><label>Description</label><textarea class="proj-desc" placeholder="Project description..."></textarea></div>
    </div>`;
  c.appendChild(div);
}

function gatherData() {
  const exp = [];
  document.querySelectorAll('#expContainer .dynamic-entry').forEach(e => {
    const t = e.querySelector('.exp-title')?.value.trim();
    const c = e.querySelector('.exp-company')?.value.trim();
    const s = e.querySelector('.exp-start')?.value.trim();
    const en = e.querySelector('.exp-end')?.value.trim();
    const d = e.querySelector('.exp-desc')?.value.trim();
    if (t || c) exp.push({title:t,company:c,start:s,end:en,desc:d});
  });

  const edu = [];
  document.querySelectorAll('#eduContainer .dynamic-entry').forEach(e => {
    const d = e.querySelector('.edu-degree')?.value.trim();
    const i = e.querySelector('.edu-inst')?.value.trim();
    const y = e.querySelector('.edu-year')?.value.trim();
    const g = e.querySelector('.edu-gpa')?.value.trim();
    if (d || i) edu.push({degree:d,inst:i,year:y,gpa:g});
  });

  const certs = [];
  document.querySelectorAll('#certContainer .dynamic-entry').forEach(e => {
    const n = e.querySelector('.cert-name')?.value.trim();
    const i = e.querySelector('.cert-issuer')?.value.trim();
    if (n) certs.push({name:n,issuer:i});
  });

  const projs = [];
  document.querySelectorAll('#projContainer .dynamic-entry').forEach(e => {
    const n = e.querySelector('.proj-name')?.value.trim();
    const t = e.querySelector('.proj-tech')?.value.trim();
    const d = e.querySelector('.proj-desc')?.value.trim();
    if (n) projs.push({name:n,tech:t,desc:d});
  });

  const skillList = (document.getElementById('skills').value || '').split(',').map(s=>s.trim()).filter(Boolean);
  const langList = (document.getElementById('languages').value || '').split(',').map(s=>s.trim()).filter(Boolean);

  return {
    name: document.getElementById('fullName').value.trim() || 'Your Name',
    title: document.getElementById('jobTitle').value.trim(),
    email: document.getElementById('email').value.trim(),
    phone: document.getElementById('phone').value.trim(),
    location: document.getElementById('location').value.trim(),
    linkedin: document.getElementById('linkedin').value.trim(),
    summary: document.getElementById('summary').value.trim(),
    exp, edu, certs, projs,
    skills: skillList,
    languages: langList,
    photo: photoDataURL
  };
}

function photoHTML(cls, style='') {
  if (cvData.photo) {
    return `<img class="${cls}" src="${cvData.photo}" alt="Photo" style="${style}">`;
  }
  return `<div class="${cls} cv-photo-placeholder" style="${style}">üë§</div>`;
}

function contactItems(items) {
  return items.filter(Boolean).map(i => `<span>${i}</span>`).join('');
}

function skillTags(cls) {
  return cvData.skills.map(s=>`<span class="${cls}">${s}</span>`).join('');
}

function skillBars(barClass, fillColor) {
  const levels = [90,80,85,75,88,70,82,78,92,76];
  return cvData.skills.slice(0,8).map((s,i)=>`
    <div class="skill-name">${s}</div>
    <div class="skill-bar"><div style="width:${levels[i%10]}%"></div></div>
  `).join('');
}

function expEntries(cls) {
  if (!cvData.exp.length) return '<p style="color:#999;font-size:0.85rem;">No experience added</p>';
  return cvData.exp.map(e=>`
    <div class="entry">
      <div class="job-title">${e.title||''}</div>
      <div class="job-company">${e.company||''}</div>
      <div class="job-date">${e.start||''}${e.end?' ‚Äî '+e.end:''}</div>
      ${e.desc?`<div class="job-desc">${e.desc}</div>`:''}
    </div>`).join('');
}

function eduEntries() {
  if (!cvData.edu.length) return '<p style="color:#999;font-size:0.85rem;">No education added</p>';
  return cvData.edu.map(e=>`
    <div class="entry">
      <div class="job-title">${e.degree||''}</div>
      <div class="job-company">${e.inst||''}</div>
      <div class="job-date">${e.year||''}${e.gpa?' | GPA: '+e.gpa:''}</div>
    </div>`).join('');
}

function certItems() {
  if (!cvData.certs.length) return '';
  return cvData.certs.map(c=>`<div class="skill-item" style="font-size:0.85rem;padding:5px 0;">${c.name}${c.issuer?' ‚Äî <em>'+c.issuer+'</em>':''}</div>`).join('');
}

function langItems() {
  return cvData.languages.map(l=>`<div style="font-size:0.85rem;padding:5px 0;border-bottom:1px solid rgba(0,0,0,0.1);">${l}</div>`).join('');
}

function projItems() {
  if (!cvData.projs.length) return '';
  return cvData.projs.map(p=>`
    <div class="entry">
      <div class="job-title">${p.name}</div>
      ${p.tech?`<div class="job-company" style="font-size:0.8rem;">${p.tech}</div>`:''}
      ${p.desc?`<div class="job-desc">${p.desc}</div>`:''}
    </div>`).join('');
}

function getContactArr() {
  return [cvData.email, cvData.phone, cvData.location, cvData.linkedin];
}

// ============ TEMPLATE HTML GENERATORS ============

function templates() {
  const contact = getContactArr().filter(Boolean);
  const contactSpans = contact.map(c=>`<span>${c}</span>`).join('');
  const contactLines = contact.join('<br>');
  const skillTagsMap = {
    red: 'skill-tag', navy: 'skill-tag', purple: 'skill-tag',
    pink: 'skill-tag', cyan: 'skill-tag', indigo: 'skill-tag',
    teal: 'skill-item', lime: 'skill-tag', blue: 'skill-item'
  };

  return [
    // T1
    `<div class="cv-template t1">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactSpans}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${skillBars()}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.8rem;color:rgba(255,255,255,0.7);margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.8rem;color:rgba(255,255,255,0.7);margin-bottom:8px;">${c.name}<br><em style="color:rgba(255,255,255,0.4)">${c.issuer}</em></div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">ABOUT ME</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T2
    `<div class="cv-template t2">
      <div class="cv-header">
        <div class="cv-header-left">
          ${photoHTML('cv-photo')}
          ${contact.map(c=>`<div style="font-size:0.75rem;color:#fff;text-align:center;margin-top:5px;word-break:break-all;">${c}</div>`).join('')}
        </div>
        <div class="cv-header-right">
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          ${cvData.summary?`<p style="margin-top:15px;font-size:0.85rem;opacity:0.8;line-height:1.6;">${cvData.summary}</p>`:''}
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.85rem;margin-bottom:8px;"><strong>${c.name}</strong><br><span style="color:#666;font-size:0.8rem;">${c.issuer}</span></div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">WORK EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T3
    `<div class="cv-template t3">
      <div class="cv-header">
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
        </div>
        <div>
          ${photoHTML('cv-photo')}
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div>
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.9rem;color:#555;line-height:1.7;margin-bottom:25px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
        <div>
          <div class="sec-title">SKILLS</div>
          ${cvData.skills.map(s=>`<div class="skill-item">${s}</div>`).join('')}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div class="skill-item">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.85rem;margin-bottom:8px;font-style:italic;">${c.name}</div>`).join('')}`:''}
        </div>
      </div>
    </div>`,

    // T4
    `<div class="cv-template t4">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.map(c=>`<span>${c}</span>`).join('')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${cvData.skills.slice(0,8).map((s,i)=>{const p=[9,8,8,7,9,7,8,8];return`<div class="skill-name">${s}</div><div class="skill-dot">${'<span class="active"></span>'.repeat(p[i%8])}${'<span></span>'.repeat(10-p[i%8])}</div>`}).join('')}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.82rem;color:rgba(255,255,255,0.7);margin-bottom:6px;">‚óÜ ${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.8rem;color:rgba(255,255,255,0.6);margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">ABOUT</div><p style="font-size:0.85rem;color:rgba(255,255,255,0.7);line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T5
    `<div class="cv-template t5">
      <div class="cv-header">
        <div class="cv-header-top">
          ${photoHTML('cv-photo')}
          <div>
            <div class="cv-name">${cvData.name}</div>
            <div class="cv-title">${cvData.title}</div>
          </div>
        </div>
        <div class="cv-contact">${contact.map(c=>`<span>${c}</span>`).join('')}</div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#444;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#555;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;color:#555;margin-bottom:8px;"><strong>${c.name}</strong>${c.issuer?'<br><em>'+c.issuer+'</em>':''}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T6
    `<div class="cv-template t6">
      <div class="cv-header">
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
        ${photoHTML('cv-photo')}
      </div>
      <div class="cv-body">
        ${cvData.summary?`<div class="sec-title">ABOUT ME</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:25px;">${cvData.summary}</p>`:''}
        <div class="two-col">
          <div>
            <div class="sec-title">EXPERIENCE</div>${expEntries()}
          </div>
          <div>
            <div class="sec-title">EDUCATION</div>${eduEntries()}
            <div class="sec-title">SKILLS</div>
            <div class="skills-flex mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
            ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div><div class="skills-flex">${cvData.languages.map(l=>`<span class="skill-tag">${l}</span>`).join('')}</div>`:''}
            ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.85rem;margin-bottom:8px;"><strong>${c.name}</strong><br><em style="color:#999">${c.issuer||''}</em></div>`).join('')}`:''}
          </div>
        </div>
        ${cvData.projs.length?`<div class="sec-title">PROJECTS</div><div class="two-col">${projItems()}</div>`:''}
      </div>
    </div>`,

    // T7
    `<div class="cv-template t7">
      <div class="cv-header">
        <div class="cv-photo-col">${photoHTML('cv-photo')}</div>
        <div class="cv-info-col">
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.map(c=>`<span>‚óÜ ${c}</span>`).join('')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${skillBars()}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.82rem;color:#444;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;"><strong>${c.name}</strong><br><em style="color:#666">${c.issuer||''}</em></div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T8
    `<div class="cv-template t8">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('  ‚Ä¢  ')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">// SKILLS</div>
          ${cvData.skills.slice(0,8).map((s,i)=>{const p=[90,80,85,75,88,70,82,78];return`<div class="skill-name">${s}</div><div class="skill-bar"><div style="width:${p[i%8]}%"></div></div>`}).join('')}
          ${cvData.languages.length?`<div class="sec-title mt10">// LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.78rem;color:#6c7086;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">// CERTS</div>${cvData.certs.map(c=>`<div style="font-size:0.78rem;color:#6c7086;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">// ABOUT</div><p style="font-size:0.8rem;color:#6c7086;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">// EXPERIENCE</div>${expEntries()}
          <div class="sec-title">// EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">// PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T9
    `<div class="cv-template t9">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#444;line-height:1.7;margin-bottom:15px;">${cvData.summary}</p>`:''}
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#555;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;"><strong>${c.name}</strong><br><em style="color:#999">${c.issuer||''}</em></div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T10
    `<div class="cv-template t10">
      <div class="cv-header">
        <div class="cv-photo-col">${photoHTML('cv-photo')}</div>
        <div class="cv-info">
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-item">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.8rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T11
    `<div class="cv-template t11">
      <div class="cv-header">
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
        ${photoHTML('cv-photo')}
      </div>
      <div class="cv-body">
        ${cvData.summary?`<div class="sec-title">ABOUT ME</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:25px;">${cvData.summary}</p>`:''}
        <div class="two-col">
          <div>
            <div class="sec-title">EXPERIENCE</div>${expEntries()}
          </div>
          <div>
            <div class="sec-title">EDUCATION</div>${eduEntries()}
            <div class="sec-title">SKILLS</div>
            <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
            ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          </div>
        </div>
        ${cvData.certs.length?`<div class="sec-title">CERTIFICATIONS</div><div class="two-col">${cvData.certs.map(c=>`<div style="font-size:0.85rem;margin-bottom:8px;"><strong>${c.name}</strong><br><em style="color:#999">${c.issuer||''}</em></div>`).join('')}</div>`:''}
        ${cvData.projs.length?`<div class="sec-title">PROJECTS</div><div class="two-col">${projItems()}</div>`:''}
      </div>
    </div>`,

    // T12
    `<div class="cv-template t12">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${skillBars()}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.82rem;color:#546e7a;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#546e7a;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T13
    `<div class="cv-template t13">
      <div class="cv-header">
        <div class="cv-header-top">
          ${photoHTML('cv-photo')}
          <div>
            <div class="cv-name">${cvData.name}</div>
            <div class="cv-title">${cvData.title}</div>
          </div>
        </div>
        <div class="cv-contact">${contact.map(c=>`<span>‚ñ∏ ${c}</span>`).join('')}</div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${cvData.summary?`<div class="sec-title">ABOUT</div><p style="font-size:0.85rem;color:#444;line-height:1.7;margin-bottom:15px;">${cvData.summary}</p>`:''}
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#555;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;"><strong>${c.name}</strong><br><em style="color:#999">${c.issuer||''}</em></div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T14
    `<div class="cv-template t14">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#5d4037;line-height:1.7;margin-bottom:15px;">${cvData.summary}</p>`:''}
          <div class="sec-title">SKILLS</div>
          ${cvData.skills.map(s=>`<div class="skill-item">${s}</div>`).join('')}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div class="skill-item">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T15
    `<div class="cv-template t15">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          ${cvData.summary?`<div class="sec-title">ABOUT</div><p style="font-size:0.85rem;color:#004d40;line-height:1.7;margin-bottom:15px;">${cvData.summary}</p>`:''}
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#004d40;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T16
    `<div class="cv-template t16">
      <div class="cv-header">
        <div class="cv-red-col">${photoHTML('cv-photo')}</div>
        <div class="cv-info">
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${skillBars()}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.82rem;color:#555;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T17
    `<div class="cv-template t17">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('  ‚Ä¢  ')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          ${cvData.skills.slice(0,8).map((s,i)=>{const p=[90,80,85,75,88,70,82,78];return`<div class="skill-name">${s}</div><div class="skill-bar"><div style="width:${p[i%8]}%"></div></div>`}).join('')}
          ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.82rem;color:rgba(255,255,255,0.5);margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.8rem;color:rgba(255,255,255,0.4);margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">ABOUT</div><p style="font-size:0.85rem;color:rgba(255,255,255,0.5);line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T18
    `<div class="cv-template t18">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contact.join('<br>')}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-tag">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#444;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">ABOUT ME</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`,

    // T19
    `<div class="cv-template t19">
      <div class="cv-header">
        ${photoHTML('cv-photo')}
        <div>
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
      </div>
      <div class="cv-body">
        ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.9rem;color:#555;line-height:1.7;margin-bottom:25px;">${cvData.summary}</p>`:''}
        <div class="two-col">
          <div>
            <div class="sec-title">EXPERIENCE</div>${expEntries()}
            ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
          </div>
          <div>
            <div class="sec-title">EDUCATION</div>${eduEntries()}
            <div class="sec-title">SKILLS</div>
            ${cvData.skills.map(s=>`<div class="skill-item">${s}</div>`).join('')}
            ${cvData.languages.length?`<div class="sec-title mt10">LANGUAGES</div>${cvData.languages.map(l=>`<div class="skill-item">${l}</div>`).join('')}`:''}
            ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-style:italic;font-size:0.88rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
          </div>
        </div>
      </div>
    </div>`,

    // T20
    `<div class="cv-template t20">
      <div class="cv-header">
        <div class="cv-photo-col">
          ${photoHTML('cv-photo')}
        </div>
        <div class="cv-info">
          <div class="cv-name">${cvData.name}</div>
          <div class="cv-title">${cvData.title}</div>
          <div class="cv-contact">${contactLines}</div>
        </div>
      </div>
      <div class="cv-body">
        <div class="cv-sidebar">
          <div class="sec-title">SKILLS</div>
          <div class="mb15">${cvData.skills.map(s=>`<span class="skill-item">${s}</span>`).join('')}</div>
          ${cvData.languages.length?`<div class="sec-title">LANGUAGES</div>${cvData.languages.map(l=>`<div style="font-size:0.85rem;color:#1565c0;margin-bottom:6px;">${l}</div>`).join('')}`:''}
          ${cvData.certs.length?`<div class="sec-title mt10">CERTIFICATIONS</div>${cvData.certs.map(c=>`<div style="font-size:0.82rem;margin-bottom:8px;">${c.name}</div>`).join('')}`:''}
        </div>
        <div class="cv-main">
          ${cvData.summary?`<div class="sec-title">PROFILE</div><p style="font-size:0.85rem;color:#555;line-height:1.7;margin-bottom:20px;">${cvData.summary}</p>`:''}
          <div class="sec-title">EXPERIENCE</div>${expEntries()}
          <div class="sec-title">EDUCATION</div>${eduEntries()}
          ${cvData.projs.length?`<div class="sec-title">PROJECTS</div>${projItems()}`:''}
        </div>
      </div>
    </div>`
  ];
}

const TEMPLATE_NAMES = [
  'Modern Crimson','Navy Executive','Minimal Elegant','Creative Green',
  'Purple Gradient','Orange Bold','Teal Split','Dark Terminal',
  'Pink Modern','Steel Classic','Yellow Creative','Slate Clean',
  'Indigo Modern','Brown Earth','Cyan Fresh','Red & White',
  'Galaxy Dark','Lime Accent','Peach Soft','Blue Professional'
];

function generateCV() {
  if (!document.getElementById('fullName').value.trim()) {
    alert('Please enter your full name to continue!');
    return;
  }
  
  const overlay = document.getElementById('loadingOverlay');
  overlay.style.display = 'flex';
  
  setTimeout(() => {
    cvData = gatherData();
    const tpls = templates();
    const grid = document.getElementById('templatesGrid');
    grid.innerHTML = '';
    
    tpls.forEach((html, i) => {
      const card = document.createElement('div');
      card.className = 'template-card';
      card.dataset.idx = i;
      card.innerHTML = `
        <span class="selected-badge">‚úì Selected</span>
        <div class="template-preview"><div class="cv-inner">${html}</div></div>
        <div class="template-label">
          <strong>${TEMPLATE_NAMES[i]}</strong>
          <span>Design ${i+1}/20</span>
        </div>`;
      card.onclick = () => selectTemplate(i);
      grid.appendChild(card);
    });

    overlay.style.display = 'none';
    document.getElementById('templatesSection').style.display = 'block';
    document.getElementById('templatesSection').scrollIntoView({behavior:'smooth'});
  }, 800);
}

function selectTemplate(idx) {
  document.querySelectorAll('.template-card').forEach(c => c.classList.remove('selected'));
  document.querySelectorAll('.template-card')[idx].classList.add('selected');
  selectedTemplate = idx;
  document.getElementById('downloadSection').style.display = 'block';
  document.getElementById('downloadSection').scrollIntoView({behavior:'smooth'});
}

function getCVElement() {
  const tpls = templates();
  const wrapper = document.createElement('div');
  wrapper.innerHTML = tpls[selectedTemplate];
  return wrapper.firstElementChild;
}

async function downloadAs(format) {
  const overlay = document.getElementById('loadingOverlay');
  const loadingText = document.getElementById('loadingText');
  loadingText.textContent = `Preparing ${format.toUpperCase()} download...`;
  overlay.style.display = 'flex';

  const tpls = templates();
  const renderArea = document.getElementById('cvRenderArea');
  renderArea.innerHTML = tpls[selectedTemplate];
  const el = renderArea.firstElementChild;
  el.style.position = 'relative';
  el.style.left = '0';

  await new Promise(r => setTimeout(r, 300));

  try {
    if (format === 'pdf') {
      const canvas = await html2canvas(el, {scale:2, useCORS:true, allowTaint:true, backgroundColor:'#ffffff'});
      const {jsPDF} = window.jspdf;
      const pdf = new jsPDF({orientation:'portrait',unit:'mm',format:'a4'});
      const w = pdf.internal.pageSize.getWidth();
      const h = (canvas.height * w) / canvas.width;
      pdf.addImage(canvas.toDataURL('image/png'), 'PNG', 0, 0, w, Math.min(h, 297));
      pdf.save(`${cvData.name.replace(/\s+/g,'_')}_CV.pdf`);
    } else if (format === 'docx') {
      // For DOCX, generate as HTML file since pure browser DOCX needs libraries
      const canvas = await html2canvas(el, {scale:2, useCORS:true, allowTaint:true, backgroundColor:'#ffffff'});
      const imgData = canvas.toDataURL('image/png');
      const html = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>CV - ${cvData.name}</title>
      <style>body{margin:0;padding:0;}img{width:100%;max-width:794px;display:block;margin:0 auto;}</style></head>
      <body><img src="${imgData}"></body></html>`;
      const blob = new Blob([html], {type:'application/msword'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = `${cvData.name.replace(/\s+/g,'_')}_CV.doc`;
      a.click();
    } else if (format === 'png') {
      const canvas = await html2canvas(el, {scale:2, useCORS:true, allowTaint:true, backgroundColor:'#ffffff'});
      const a = document.createElement('a');
      a.href = canvas.toDataURL('image/png');
      a.download = `${cvData.name.replace(/\s+/g,'_')}_CV.png`;
      a.click();
    } else if (format === 'jpg') {
      const canvas = await html2canvas(el, {scale:2, useCORS:true, allowTaint:true, backgroundColor:'#ffffff'});
      const a = document.createElement('a');
      a.href = canvas.toDataURL('image/jpeg', 0.95);
      a.download = `${cvData.name.replace(/\s+/g,'_')}_CV.jpg`;
      a.click();
    }
  } catch (err) {
    alert('Download error. Please try again.');
    console.error(err);
  }

  renderArea.innerHTML = '';
  overlay.style.display = 'none';
}

function toggleSocial() {
  const p = document.getElementById('socialPopup');
  p.classList.toggle('show');
}

document.addEventListener('click', e => {
  if (!e.target.closest('.footer-by')) {
    document.getElementById('socialPopup').classList.remove('show');
  }
});
</script>
</body>
</html>
